# 第十届中国大学生服务外包创新创业大赛

分类一直是数据科学界研究的重点问题，它被广泛地应用到生活的各个方面。伴随着电商行业的快速发展。商品的数量越来越多，需要对商品制定分类，便于找寻自己所需的商品。针对现在每天都会产生的大量商品名称，如果人工去为商品分类，不仅工作量巨大，速度慢，而且也会出现分类错误的情况。因此本项目旨在寻找一种分类方法，能够实现商品的快速准确的分类，降低人工成本以及出错率。

## 环境

- python 3
- jieba（中文分词）	0.39
- pandas	0.24.1
- numpy	1.16.2
- tensorflow	1.13.1

## 数据集

数据集请自行下载：链接: https://pan.baidu.com/s/1Fw9Zb9gV3Y6GaloOSne6hQ 密码: r1p0

通过比对模型的训练的结果，最终采取训练集：验证集为 **19:1** .

数据集划分如下：

- 训练集: 475,000
- 验证集: 25,000
- 测试集: 4,500,000

## 项目创意

本项目采用**基于CNN的文本分类模型**实现自动分类。文本分类模型大体上分为基于**传统机器学习**和基于**深度学习**的文本分类模型，后者与前者最主要的区别是随着数据规模的增加其性能也不断增长。本项目的数据集在万级以上，因此基于深度学习的文本分类模型能够更加完美地解释它。  

随着现在大数据时代的到来，基于深度学习模型的文本分类模型已经成为了主流，其中CNN模型在文本分类任务中是兼具效率与质量的理想模型。因此基于CNN的文本分类模型具有良好的商业价值和社会应用价值。

## 项目特色

- 采用针对大量数据集的**深度学习框架**从而可以自动地从已构建的数据集上归纳出一套分类规则；
- 采用**结巴中文分词**技术能够将句子最精确地切开，适合文本分析；
- 采用**One-Hot**技术使文本数值化能够有效降低异常值对模型的影响，增强模型稳定性；
- 采用目前业界普遍认为准确度最高的模型**TextCNN**进行文本分类，兼具效率与质量；
- 采用MVC架构实现用户与系统之间的交互，支持多种查询数据的方式，可视化效果好。

## 项目主要功能/流程的详细介绍

### 数据预处理

我们希望能够得知商品信息，自动对其进行分类，比如针对“腾讯QQ币148元148QQ币148个直充148Q币148个Q币148个QQB★自动充值”这样一个商品信息，预期得到“本地生活--游戏充值--QQ充值”，那么首先第一步就是要对原始数据进行预处理，在本项目中主要处理以下问题：

- 除去非文本部分

- 处理中文编码

- 处理某些行堆积几百条数据

- 结巴中文分词处理

- one-hot表示数据与标签



### CNN文本分类模型

#### CNN的大致结构:

![](https://github.com/Cynicicm/Service-outsourcing/blob/master/DataViewWeb/Image/%E6%95%B4%E4%BD%93%E6%95%B0%E6%8D%AE%E6%98%BE%E7%A4%BA.png)  

#### CNN配置参数

CNN可配置的参数如下所示，在`train.py`中。

```python
class TCNNConfig(object):
    """CNN配置参数"""

    # 模型参数
    embedding_dim =128	     # 词向量维度
    seq_length =40	         # 序列长度
    num_classes=1199	       # 类别数
    num_filters=128	         # 卷积核数目
    filter_sizes=3,4,5	     # 卷积核尺寸
    vocab_size=160000	       # 词汇表大小
    
    fc_hidden_size=1024	     # 全连接层神经元
    dropout_keep_prob=0.5	   # 防止过拟合
    
    dropout	                 # 保留比例
    learning_rate=0.001	     # 学习率
    
    batch_size=256	         # 每批训练大小
    num_epochs=40	           # 总迭代轮次
    evaluate_every=800	     # 每多少步进行一次验证
```

#### 参数变化过程
